/* jquery.jqyt - v1.0.0 - 2014-11-06
 * https://github.com/joshua-jones-software/jqyt
 * Copyright (c) 2014 Joshua Jones; Licensed MIT
 */
!function(e){if(e.fn.jqyt=function(t){var a=null,r=0;return"string"==typeof t?this.each(function(){var a=e(this);"destroy"===t&&(a.data("jqyt-player").destroy(),a.data("jqyt-player",null),e("#"+a.data("jqyt-player-id")).remove(),a.data("jqyt-player-id",null).off("jqytPlayerEnded").off("jqytPlayerPlaying").off("jqytPlayerPaused").off("jqytPlayerBuffering").off("jqytPlayerQueued").off("jqytPlayerStateChanged").off("jqytPlayerProgress").off("jqytPlayerCreated").off("jqytPlayerReady"))}):(a=e.extend(!0,{},e.fn.jqyt.defaults,t),e.fn.jqyt.ready?this.filter("div").each(function(){var t=e(this),y=e.extend(!0,{},a),n=null,l=null,i=null,o=l=null;for(n in y)"function"!=typeof y[n]&&void 0!==t.data("jqyt-"+n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())&&(l=t.data("jqyt-"+n),y[n]="object"!=typeof y[n]?l:e.extend(!0,{},y[n],l));for(;e("#jqyt-video-"+r).length;)r++;l=e("<div />").attr("id","jqyt-video-"+r).appendTo(t),r++,t.on("jqytPlayerEnded",y.events.jqytPlayerEnded).on("jqytPlayerPlaying",y.events.jqytPlayerPlaying).on("jqytPlayerPaused",y.events.jqytPlayerPaused).on("jqytPlayerBuffering",y.events.jqytPlayerBuffering).on("jqytPlayerQueued",y.events.jqytPlayerQueued).on("jqytPlayerStateChanged",y.events.jqytPlayerStateChanged).on("jqytPlayerProgress",y.events.jqytPlayerProgress).on("jqytPlayerCreated",y.events.jqytPlayerCreated).on("jqytPlayerReady",y.events.jqytPlayerReady),t.data("jqyt-player-id",l.attr("id")),t.on("jqytPlayerStateChanged",function(e,a){var r={};r[YT.PlayerState.ENDED]=function(){null!==i&&clearInterval(i),t.trigger("jqytPlayerEnded",[a.target])},r[YT.PlayerState.PLAYING]=function(){null!==i&&clearInterval(i),i=setInterval(function(){t.trigger("jqytPlayerProgress",[a.target])},y.progressInterval),t.trigger("jqytPlayerPlaying",[a.target])},r[YT.PlayerState.PAUSED]=function(){null!==i&&clearInterval(i),t.trigger("jqytPlayerPaused",[a.target])},r[YT.PlayerState.BUFFERING]=function(){null!==i&&clearInterval(i),t.trigger("jqytPlayerBuffering",[a.target])},r[YT.PlayerState.CUED]=function(){null!==i&&clearInterval(i),t.trigger("jqytPlayerQueued",[a.target])},r[a.data]&&r[a.data]()}),o=new YT.Player(l.attr("id"),{height:t.height(),width:t.width(),videoId:y.videoId,playerVars:y.playerVars,events:{onReady:function(e){t.trigger("jqytPlayerReady",[e.target])},onStateChange:function(e){t.trigger("jqytPlayerStateChanged",[e])},onError:function(e){t.trigger("jqytPlayerError",[e.target])}}}),t.find("iframe").css("visibility","hidden"),y.infoRequest?e.ajax({url:"http://gdata.youtube.com/feeds/api/videos/"+y.videoId+"?v=2&alt=jsonc",context:t,async:!1,dataType:"jsonp",success:function(e){o.video=e.data,this.data("jqyt-player",o),this.find("iframe").css("visibility","visible"),t.trigger("jqytPlayerCreated",[o])}}):(t.data("jqyt-player",o),t.find("iframe").css("visibility","visible"),t.trigger("jqytPlayerCreated",[o]))}):(e.fn.jqyt.queue.push({selector:e(this),o:a}),a.events.jqytPlayerNotReady.call(this),this))},e.fn.jqyt.ready=!1,e.fn.jqyt.defaults={videoId:"",playerVars:{wmode:"opaque",autoplay:0,controls:1},progressInterval:100,infoRequest:!1,events:{jqytPlayerNotReady:function(){},jqytPlayerCreated:function(){},jqytPlayerReady:function(){},jqytPlayerStateChanged:function(){},jqytPlayerEnded:function(){},jqytPlayerPlaying:function(){},jqytPlayerPaused:function(){},jqytPlayerBuffering:function(){},jqytPlayerQueued:function(){},jqytPlayerError:function(){},jqytPlayerProgress:function(){}}},e.fn.jqyt.queue=[],!window.YT){var t=document.createElement("script");t.src="http://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}window.onYouTubeIframeAPIReady=function(){var t=window.onYouTubeIframeAPIReady;return function(){e.fn.jqyt.ready=!0;var a;for(a=0;a<e.fn.jqyt.queue.length;a++)e.fn.jqyt.queue[a].selector.jqyt(e.fn.jqyt.queue[a].o);e.fn.jqyt.queue=[],void 0!==t&&t.apply(this,arguments)}}()}(jQuery);